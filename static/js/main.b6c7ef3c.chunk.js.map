{"version":3,"sources":["UnmantainedApp.jsx","ErrorBoundary.jsx","getCsvInfo.js","index.js","App.module.css"],"names":["UnmantainedApp","dadosArquivo","className","styles","Container","href","url","dataAtualizacao","ErrorBoundary","props","state","hasError","error","errorInfo","Sentry","scope","setExtras","eventId","setState","this","errorMessage","toString","children","React","Component","getCsvInfo","a","fetch","credentials","headers","accept","referrer","referrerPolicy","body","method","mode","response","json","results","arquivo","dt_atualizacao","ReactDOM","render","StrictMode","document","getElementById","main","module","exports"],"mappings":"8PA0BeA,MAvBf,YAA2C,IAAjBC,EAAgB,EAAhBA,aACxB,OACE,yBAAKC,UAAWC,IAAOC,WACrB,+CACA,4JAIA,+GAC2E,IACzE,uBAAGC,KAAK,6CAAR,8CAIF,2BACE,uBAAGA,KAAMJ,EAAaK,KAAtB,8CACA,6BAFF,iBAGiBL,EAAaM,mB,uCCyBrBC,E,kDAzCb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEC,UAAU,EAAOC,MAAO,MAFtB,E,8DAKDA,EAAOC,GAAY,IAAD,OAClCC,KAAiB,SAACC,GAChBA,EAAMC,UAAUH,GAChB,IAAMI,EAAUH,IAAwBF,GACxC,EAAKM,SAAS,CAAED,iB,+BASlB,GAAIE,KAAKT,MAAMC,SAAU,CACvB,IAAMC,EAAQO,KAAKT,MAAME,MACnBQ,EAAeR,EAAMS,SACvBT,EAAMS,WACN,qBACJ,OACE,oCACE,sCACA,6FACkE,IAChE,uBAAGhB,KAAK,8BAAR,8BAAoE,IAFtE,mCAKA,kCAAQc,KAAKT,MAAMO,SACnB,2BAAIG,IAIR,OAAOD,KAAKV,MAAMa,Y,gDAvBUV,GAC9B,MAAO,CAAED,UAAU,EAAMC,a,GAfDW,IAAMC,WCHnB,SAAeC,IAA9B,+B,4CAAe,oCAAAC,EAAA,sEACUC,MACrB,0EACA,CACEC,YAAa,OACbC,QAAS,CACPC,OAAQ,oCACR,kBAAmB,sCACnB,iBAAkB,QAClB,iBAAkB,OAClB,iBAAkB,aAClB,yBAA0B,oCAE5BC,SAAU,8BACVC,eAAgB,6BAChBC,KAAM,KACNC,OAAQ,MACRC,KAAM,SAjBG,cACPC,EADO,gBAoBMA,EAASC,OApBf,cAoBPA,EApBO,yBAqBN,CACL/B,IAAG,OAAE+B,QAAF,IAAEA,GAAF,UAAEA,EAAMC,QAAQ,UAAhB,iBAAE,EAAkBC,eAApB,aAAE,EAA2BjC,IAChCC,gBAAe,OAAE8B,QAAF,IAAEA,GAAF,UAAEA,EAAMC,QAAQ,UAAhB,aAAE,EAAkBE,iBAvBxB,4C,kECUf,4BAAAd,EAAA,sEAC6BD,IAD7B,OACQxB,EADR,OAGEwC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAK1C,aAAcA,MAGvB2C,SAASC,eAAe,SAT5B,4C,0DAaAC,I,kBCtBAC,EAAOC,QAAU,CAAC,UAAY,uBAAuB,YAAc,yBAAyB,SAAW,sBAAsB,cAAgB,2BAA2B,MAAQ,sB","file":"static/js/main.b6c7ef3c.chunk.js","sourcesContent":["import React from \"react\";\nimport styles from \"./App.module.css\";\n\nfunction UnmantainedApp({ dadosArquivo }) {\n  return (\n    <div className={styles.Container}>\n      <h1>Site fora do ar</h1>\n      <p>\n        Página não está mais sendo mantida desde a mudança do formato dos dados\n        fornecido pelo Ministério da Saúde.\n      </p>\n      <p>\n        O código fonte do sistema antigo ainda está disponível no GitHub. Acesse{\" \"}\n        <a href=\"https://github.com/calimaborges/covid.git\">\n          https://github.com/calimaborges/covid.git\n        </a>\n      </p>\n      <p>\n        <a href={dadosArquivo.url}>Clique aqui para baixar o arquivo de dados</a>\n        <br />\n        Atualizado em {dadosArquivo.dataAtualizacao}\n      </p>\n    </div>\n  );\n}\n\nexport default UnmantainedApp;\n","import React from \"react\";\nimport * as Sentry from \"@sentry/browser\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    Sentry.withScope((scope) => {\n      scope.setExtras(errorInfo);\n      const eventId = Sentry.captureException(error);\n      this.setState({ eventId });\n    });\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n\n  render() {\n    if (this.state.hasError) {\n      const error = this.state.error;\n      const errorMessage = error.toString\n        ? error.toString()\n        : \"Erro desconhecido.\";\n      return (\n        <>\n          <h1>Ops...</h1>\n          <p>\n            Provavelmente houve alguma falha ao ler o CSV fornecido. Acesse{\" \"}\n            <a href=\"https://covid.saude.gov.br\">https://covid.saude.gov.br</a>{\" \"}\n            até o problema ser corrigido\n          </p>\n          <p>ID: {this.state.eventId}</p>\n          <p>{errorMessage}</p>\n        </>\n      );\n    } else {\n      return this.props.children;\n    }\n  }\n}\n\nexport default ErrorBoundary;\n","export default async function getCsvInfo() {\n  const response = await fetch(\n    \"https://xx9p7hp1p7.execute-api.us-east-1.amazonaws.com/prod/PortalGeral\",\n    {\n      credentials: \"omit\",\n      headers: {\n        accept: \"application/json, text/plain, */*\",\n        \"accept-language\": \"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"sec-fetch-dest\": \"empty\",\n        \"sec-fetch-mode\": \"cors\",\n        \"sec-fetch-site\": \"cross-site\",\n        \"x-parse-application-id\": \"unAFkcaNDeXajurGB7LChj8SgQYS2ptm\",\n      },\n      referrer: \"https://covid.saude.gov.br/\",\n      referrerPolicy: \"no-referrer-when-downgrade\",\n      body: null,\n      method: \"GET\",\n      mode: \"cors\",\n    }\n  );\n  const json = await response.json();\n  return {\n    url: json?.results[0]?.arquivo?.url,\n    dataAtualizacao: json?.results[0]?.dt_atualizacao,\n  };\n}\n","import \"typeface-roboto-condensed\";\nimport \"typeface-roboto-mono\";\nimport \"./index.css\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./UnmantainedApp\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport getCsvInfo from \"./getCsvInfo\";\n\nasync function main() {\n  const dadosArquivo = await getCsvInfo();\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <ErrorBoundary>\n        <App dadosArquivo={dadosArquivo} />\n      </ErrorBoundary>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n}\n\nmain();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"App_Container__10KOh\",\"ButtonGroup\":\"App_ButtonGroup__JyEnA\",\"BoxGroup\":\"App_BoxGroup__tpGwB\",\"BoxGroupTitle\":\"App_BoxGroupTitle__2tUtS\",\"Alert\":\"App_Alert__3Zd3X\"};"],"sourceRoot":""}