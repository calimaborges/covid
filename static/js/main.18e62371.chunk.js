(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{144:function(e,t,a){e.exports={Button:"ToggleButton_Button__27Raf"}},172:function(e,t,a){e.exports=a(361)},176:function(e,t,a){},34:function(e,t,a){e.exports={Container:"App_Container__10KOh",ButtonGroup:"App_ButtonGroup__JyEnA",BoxGroup:"App_BoxGroup__tpGwB",BoxGroupTitle:"App_BoxGroupTitle__2tUtS"}},361:function(e,t,a){"use strict";a.r(t);var o=a(31),n=a.n(o),r=a(51),c=(a(174),a(175),a(176),a(1)),s=a.n(c),l=a(50),i=a.n(l),u=a(82),d=a.n(u),m=a(57),p=a(54),f=a(7);function g(e){var t=e.scale,a=e.data,o=e.config,n=e.reference;return s.a.createElement(f.g,{width:"100%",minHeight:350},s.a.createElement(f.e,{data:a,margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(f.c,{strokeDasharray:"3 3"}),s.a.createElement(f.h,null),s.a.createElement(f.i,{dataKey:"data"}),"}",s.a.createElement(f.j,{scale:t,allowDataOverflow:!0}),s.a.createElement(f.f,{x:a[n].data,stroke:"black"}),o.map((function(e){return s.a.createElement(f.d,Object.assign({animationDuration:500,key:e.dataKey,type:"monotone",strokeWidth:2},e))}))))}var v=a(9),b=[0,"dataMax"];function E(e){var t=e.scale,a=e.data,o=e.config,n=e.reference;return"log"===t&&(t=Object(v.scaleLog)().base(10),b=[1,"dataMax"]),s.a.createElement(f.g,{width:"100%",minHeight:350},s.a.createElement(f.b,{data:a,margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(f.c,{strokeDasharray:"3 3"}),s.a.createElement(f.h,null),s.a.createElement(f.i,{dataKey:"data"}),"}",s.a.createElement(f.j,{scale:t,domain:b,allowDataOverflow:!0}),s.a.createElement(f.f,{x:a[n].data,stroke:"black"}),o.map((function(e){return s.a.createElement(f.a,Object.assign({animationDuration:500,key:e.dataKey,type:"monotone",strokeWidth:2},e))}))))}var h=a(144),k=a.n(h);function A(e){var t=e.active,a=Object(p.a)(e,["active"]);return s.a.createElement("button",Object.assign({className:k.a.Button,style:{backgroundColor:t?"black":"white",color:t?"white":"black"}},a))}var B=a(85),y=a(56),x=a.n(y);function C(e){var t=e.legend,a=e.amount,o=e.textColor,n=e.bgColor,r=e.color,c=void 0===r?"#cccccc":r;return n=n||Object(B.a)(c,120).toString(),o=o||Object(B.a)(c,-120).toString(),s.a.createElement("div",{className:x.a.Container,style:{backgroundColor:n,border:"2px solid ".concat(c),color:o}},s.a.createElement("legend",{className:x.a.Legend},t),s.a.createElement("div",{className:x.a.Content},a))}var _=a(34),S=a.n(_),N=[{dataKey:"casosNovos",name:"Casos novos",stroke:"#99d066"},{dataKey:"obitosNovos",name:"\xd3bitos novos",stroke:"#ff6659"}],w=[{dataKey:"casosAcumulados",name:"Casos acumulados",stroke:"#99d066",fill:"#99d066"},{dataKey:"obitosAcumulados",name:"\xd3bitos acumulados",stroke:"#ff6659",fill:"#ff6659"}];var j=function(e){var t=e.data,a=e.dataAtualizacao,o=(t.BRASIL,Object(p.a)(t,["BRASIL"])),n=s.a.useState("linear"),r=Object(m.a)(n,2),c=r[0],l=r[1],i=s.a.useState("BRASIL"),u=Object(m.a)(i,2),d=u[0],f=u[1],v=t[d].slice(26),b=s.a.useState(v.length-1),h=Object(m.a)(b,2),k=h[0],B=h[1];return s.a.createElement("div",{className:S.a.Container},s.a.createElement("div",{className:S.a.ButtonGroup},s.a.createElement(A,{onClick:function(){return f("BRASIL")},active:"BRASIL"===d},"BRASIL"),Object.keys(o).sort().map((function(e){return s.a.createElement(A,{key:e,onClick:function(){return f(e)},active:d===e},e)}))),s.a.createElement("div",{className:S.a.BoxGroupTitle},v[k].data),s.a.createElement("div",{className:S.a.BoxGroup},s.a.createElement("button",{disabled:0===k,onClick:function(){return B(k-1)}},"<"),s.a.createElement(C,{legend:w[0].name,color:w[0].stroke,amount:v[k].casosAcumulados.toLocaleString("pt-BR")}),s.a.createElement(C,{legend:w[1].name,color:w[1].stroke,amount:v[k].obitosAcumulados.toLocaleString("pt-BR")}),s.a.createElement(C,{legend:N[0].name,color:N[0].stroke,amount:v[k].casosNovos.toLocaleString("pt-BR"),bgColor:"#ffffff"}),s.a.createElement(C,{legend:N[1].name,color:N[1].stroke,amount:v[k].obitosNovos.toLocaleString("pt-BR"),bgColor:"#ffffff"}),s.a.createElement("button",{disabled:k===v.length-1,onClick:function(){return B(k+1)}},">")),s.a.createElement("h3",null,"Acumulado"),s.a.createElement(E,{data:v,scale:c,config:w,reference:k}),s.a.createElement("div",{className:S.a.ButtonGroup},s.a.createElement(A,{onClick:function(){return l("linear")},active:"linear"===c},"linear"),s.a.createElement(A,{onClick:function(){return l("log")},active:"log"===c},"log")),s.a.createElement("h3",null,"Novos"),s.a.createElement(g,{data:v,scale:"linear",config:N,reference:k}),s.a.createElement("p",{style:{textAlign:"center"}},"Fonte:"," ",s.a.createElement("a",{href:"https://covid.saude.gov.br/",target:"_blank",rel:"noopener noreferrer"},"https://covid.saude.gov.br/"),s.a.createElement("br",null),"\xdaltima atualiza\xe7\xe3o: ",a),s.a.createElement("p",{style:{textAlign:"center"}},s.a.createElement("a",{href:"https://github.com/calimaborges/covid.git",target:"_blank",rel:"noopener noreferrer"},"GitHub")))},L=a(145),O=a.n(L);function R(e){return new Promise((function(t){O.a.parse(e,{dynamicTyping:!0,download:!0,complete:t,header:!0,keepEmptyRows:!1,skipEmptyLines:!0,transformHeader:function(e){switch(e){case"region":return"regiao";case"date":return"data";case"cases_inc":return"casosNovos";case"cases":return"casosAcumulados";case"deaths_inc":return"obitosNovos";case"deaths":return"obitosAcumulados";default:return e}}})}))}function G(){return I.apply(this,arguments)}function I(){return(I=Object(r.a)(n.a.mark((function e(){var t,a,o,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://xx9p7hp1p7.execute-api.us-east-1.amazonaws.com/prod/PortalGeral",{credentials:"omit",headers:{accept:"application/json, text/plain, */*","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","x-parse-application-id":"unAFkcaNDeXajurGB7LChj8SgQYS2ptm"},referrer:"https://covid.saude.gov.br/",referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors"});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",{url:null===c||void 0===c||null===(t=c.results[0])||void 0===t||null===(a=t.arquivo)||void 0===a?void 0:a.url,dataAtualizacao:null===c||void 0===c||null===(o=c.results[0])||void 0===o?void 0:o.dt_atualizacao});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(r.a)(n.a.mark((function e(){var t,a,o,r,c,l,u,m,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("root")).innerHTML="<p>Obtendo endere\xe7o do CSV...</p>",e.next=4,G();case 4:return a=e.sent,o=a.url,r=a.dataAtualizacao,t.innerHTML="<p>Obtendo CSV de ".concat(o,"...</p>"),e.next=10,R(o);case 10:for(p in c=e.sent,l=d()(c.data,"sigla"),u=d()(c.data,"data"),m=function(e){u[e]=u[e].reduce((function(t,a){return{sigla:"BRASIL",regiao:"BRASIL",data:e,casosNovos:(t.casosNovos||0)+a.casosNovos,casosAcumulados:(t.casosAcumulados||0)+a.casosAcumulados,obitosNovos:(t.obitosNovos||0)+a.obitosNovos,obitosAcumulados:(t.obitosAcumulados||0)+a.obitosAcumulados}}))},u)m(p);l.BRASIL=Object.values(u),i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(j,{data:l,dataAtualizacao:r})),t);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){K.apply(this,arguments)}()},56:function(e,t,a){e.exports={Container:"CounterBox_Container__a_uh2",Legend:"CounterBox_Legend__1n7vI",Content:"CounterBox_Content__XDU3C"}}},[[172,1,2]]]);
//# sourceMappingURL=main.18e62371.chunk.js.map