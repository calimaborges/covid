(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{153:function(e,t,a){e.exports={Button:"ToggleButton_Button__27Raf"}},186:function(e,t,a){e.exports=a(375)},190:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t);var o=a(37),n=a.n(o),r=a(59),c=(a(188),a(189),a(190),a(1)),s=a.n(c),l=a(58),i=a.n(l),u=a(90),d=a.n(u),m=a(380),p=a(65),f=a(62),v=a(10);function g(e){var t=e.scale,a=e.data,o=e.config,n=e.reference;return s.a.createElement(v.g,{width:"100%",minHeight:350},s.a.createElement(v.e,{data:a,margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(v.c,{strokeDasharray:"3 3"}),s.a.createElement(v.h,null),s.a.createElement(v.i,{dataKey:"data"}),"}",s.a.createElement(v.j,{scale:t,allowDataOverflow:!0}),s.a.createElement(v.f,{x:a[n].data,stroke:"black"}),o.map((function(e){return s.a.createElement(v.d,Object.assign({animationDuration:500,key:e.dataKey,type:"monotone",strokeWidth:2},e))}))))}var b=a(13),h=[0,"dataMax"];function E(e){var t=e.scale,a=e.data,o=e.config,n=e.reference;return"log"===t&&(t=Object(b.scaleLog)().base(10),h=[1,"dataMax"]),s.a.createElement(v.g,{width:"100%",minHeight:350},s.a.createElement(v.b,{data:a,margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(v.c,{strokeDasharray:"3 3"}),s.a.createElement(v.h,null),s.a.createElement(v.i,{dataKey:"data"}),"}",s.a.createElement(v.j,{scale:t,domain:h,allowDataOverflow:!0}),s.a.createElement(v.f,{x:a[n].data,stroke:"black"}),o.map((function(e){return s.a.createElement(v.a,Object.assign({animationDuration:500,key:e.dataKey,type:"monotone",strokeWidth:2},e))}))))}var k=a(153),y=a.n(k);function A(e){var t=e.active,a=Object(f.a)(e,["active"]);return s.a.createElement("button",Object.assign({className:y.a.Button,style:{backgroundColor:t?"black":"white",color:t?"white":"black"}},a))}var B=a(93),x=a(64),C=a.n(x);function _(e){var t=e.legend,a=e.amount,o=e.textColor,n=e.bgColor,r=e.color,c=void 0===r?"#cccccc":r;return n=n||Object(B.a)(c,120).toString(),o=o||Object(B.a)(c,-120).toString(),s.a.createElement("div",{className:C.a.Container,style:{backgroundColor:n,border:"2px solid ".concat(c),color:o}},s.a.createElement("legend",{className:C.a.Legend},t),s.a.createElement("div",{className:C.a.Content},a))}var S=a(40),j=a.n(S),O=[{dataKey:"casosNovos",name:"Casos novos",stroke:"#99d066"},{dataKey:"obitosNovos",name:"\xd3bitos novos",stroke:"#ff6659"}],N=[{dataKey:"casosAcumulados",name:"Casos acumulados",stroke:"#99d066",fill:"#99d066"},{dataKey:"obitosAcumulados",name:"\xd3bitos acumulados",stroke:"#ff6659",fill:"#ff6659"}];var w=function(e){var t=e.data,a=e.dataAtualizacao,o=(t.BRASIL,Object(f.a)(t,["BRASIL"])),n=s.a.useState("linear"),r=Object(p.a)(n,2),c=r[0],l=r[1],i=s.a.useState("BRASIL"),u=Object(p.a)(i,2),d=u[0],m=u[1],v=t[d].slice(26),b=s.a.useState(v.length-1),h=Object(p.a)(b,2),k=h[0],y=h[1];return s.a.createElement("div",{className:j.a.Container},s.a.createElement("div",{className:j.a.ButtonGroup},s.a.createElement(A,{onClick:function(){return m("BRASIL")},active:"BRASIL"===d},"BRASIL"),Object.keys(o).sort().map((function(e){return s.a.createElement(A,{key:e,onClick:function(){return m(e)},active:d===e},e)}))),s.a.createElement("div",{className:j.a.BoxGroupTitle},v[k].data),s.a.createElement("div",{className:j.a.BoxGroup},s.a.createElement("button",{disabled:0===k,onClick:function(){return y(k-1)}},"<"),s.a.createElement(_,{legend:N[0].name,color:N[0].stroke,amount:v[k].casosAcumulados.toLocaleString("pt-BR")}),s.a.createElement(_,{legend:N[1].name,color:N[1].stroke,amount:v[k].obitosAcumulados.toLocaleString("pt-BR")}),s.a.createElement(_,{legend:O[0].name,color:O[0].stroke,amount:v[k].casosNovos.toLocaleString("pt-BR"),bgColor:"#ffffff"}),s.a.createElement(_,{legend:O[1].name,color:O[1].stroke,amount:v[k].obitosNovos.toLocaleString("pt-BR"),bgColor:"#ffffff"}),s.a.createElement("button",{disabled:k===v.length-1,onClick:function(){return y(k+1)}},">")),s.a.createElement("h3",null,"Acumulado"),s.a.createElement(E,{data:v,scale:c,config:N,reference:k}),s.a.createElement("div",{className:j.a.ButtonGroup},s.a.createElement(A,{onClick:function(){return l("linear")},active:"linear"===c},"linear"),s.a.createElement(A,{onClick:function(){return l("log")},active:"log"===c},"log")),s.a.createElement("h3",null,"Novos"),s.a.createElement(g,{data:v,scale:"linear",config:O,reference:k}),s.a.createElement("p",{style:{textAlign:"center"}},"Fonte:"," ",s.a.createElement("a",{href:"https://covid.saude.gov.br/",target:"_blank",rel:"noopener noreferrer"},"https://covid.saude.gov.br/"),s.a.createElement("br",null),"\xdaltima atualiza\xe7\xe3o: ",a),s.a.createElement("p",{style:{textAlign:"center"}},s.a.createElement("a",{href:"https://github.com/calimaborges/covid.git",target:"_blank",rel:"noopener noreferrer"},"GitHub")))},L=a(154),R=a.n(L);function G(e){return new Promise((function(t){R.a.parse(e,{dynamicTyping:!0,download:!0,complete:t,header:!0,keepEmptyRows:!1,skipEmptyLines:!0,transformHeader:function(e){switch(e){case"region":return"regiao";case"cases_inc":return"casosNovos";case"cases":return"casosAcumulados";case"deaths_inc":return"obitosNovos";case"deaths":return"obitosAcumulados";default:return e}}})}))}function I(){return D.apply(this,arguments)}function D(){return(D=Object(r.a)(n.a.mark((function e(){var t,a,o,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://xx9p7hp1p7.execute-api.us-east-1.amazonaws.com/prod/PortalGeral",{credentials:"omit",headers:{accept:"application/json, text/plain, */*","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site","x-parse-application-id":"unAFkcaNDeXajurGB7LChj8SgQYS2ptm"},referrer:"https://covid.saude.gov.br/",referrerPolicy:"no-referrer-when-downgrade",body:null,method:"GET",mode:"cors"});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",{url:null===c||void 0===c||null===(t=c.results[0])||void 0===t||null===(a=t.arquivo)||void 0===a?void 0:a.url,dataAtualizacao:null===c||void 0===c||null===(o=c.results[0])||void 0===o?void 0:o.dt_atualizacao});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=a(155),T=a(156),z=a(158),H=a(159),M=function(e){Object(H.a)(a,e);var t=Object(z.a)(a);function a(e){var o;return Object(K.a)(this,a),(o=t.call(this,e)).state={hasError:!1,error:null},o}return Object(T.a)(a,[{key:"render",value:function(){if(this.state.hasError){var e=this.state.error,t=e.toString?e.toString():"Erro desconhecido.";return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Ops..."),s.a.createElement("p",null,"Provavelmente houve alguma falha ao ler o CSV fornecido. Acesse"," ",s.a.createElement("a",{href:"https://covid.saude.gov.br"},"https://covid.saude.gov.br")," ","at\xe9 o problema ser corrigido"),s.a.createElement("p",null,t))}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),a}(s.a.Component);function q(){return(q=Object(r.a)(n.a.mark((function e(){var t,a,o,r,c,l,u,m,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("root")).innerHTML="<p>Obtendo endere\xe7o do CSV...</p>",e.next=4,I();case 4:return a=e.sent,o=a.url,r=a.dataAtualizacao,t.innerHTML="<p>Obtendo CSV de ".concat(o,"...</p>"),e.next=10,G(o);case 10:for(p in c=e.sent,l=d()(c.data,"sigla"),u=d()(c.data,"data"),m=function(e){u[e]=u[e].reduce((function(t,a){return{sigla:"BRASIL",regiao:"BRASIL",data:e,casosNovos:(t.casosNovos||0)+a.casosNovos,casosAcumulados:(t.casosAcumulados||0)+a.casosAcumulados,obitosNovos:(t.obitosNovos||0)+a.obitosNovos,obitosAcumulados:(t.obitosAcumulados||0)+a.obitosAcumulados}}))},u)m(p);l.BRASIL=Object.values(u),i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(M,null,s.a.createElement(w,{data:l,dataAtualizacao:r}))),t);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}m.a({dsn:"https://af6f260b6d2d478f9ad3430c0f67102f@sentry.io/5172534"}),function(){q.apply(this,arguments)}()},40:function(e,t,a){e.exports={Container:"App_Container__10KOh",ButtonGroup:"App_ButtonGroup__JyEnA",BoxGroup:"App_BoxGroup__tpGwB",BoxGroupTitle:"App_BoxGroupTitle__2tUtS"}},64:function(e,t,a){e.exports={Container:"CounterBox_Container__a_uh2",Legend:"CounterBox_Legend__1n7vI",Content:"CounterBox_Content__XDU3C"}}},[[186,1,2]]]);
//# sourceMappingURL=main.996b1623.chunk.js.map